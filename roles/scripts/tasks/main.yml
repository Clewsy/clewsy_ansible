---
- name: Ensure bin directory within user's home directory exists.
  file:
    dest: "/home/{{ ansible_user }}/bin"
    owner: "{{ ansible_user }}"
    group: "{{ ansible_user }}"
    mode: 0755
    state: directory

- name: Sync scripts.
  get_url:
    url: "{{ base_url }}{{ item }}"
    dest: "{{ dest_dir }}{{ item }}"
    owner: "{{ ansible_user }}"
    group: "{{ ansible_user }}"
    mode: 0755
  with_items: "{{ scripts }}"

- name: Customize stuff.sh colour theme 1 of 2 - comment default colour.
  lineinfile:
    path: "{{ dest_dir }}stuff.sh"
    regexp: "#Theme colour: CYAN"
    line: '#COL="\\033[00;36m"			#Theme colour: CYAN'
    
- name: Customize stuff.sh colour theme 2 of 2 - set colour by host ({{ theme_colour }}).
  lineinfile:
    path: "{{ dest_dir }}stuff.sh"
    regexp: "#Theme colour: {{ theme_colour }}"
    line: 'COL="\\033[{{ theme_colour_code }}"			#Theme colour: {{ theme_colour }}'
